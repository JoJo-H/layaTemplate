var Pan3d,__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}();!function(t){var e=function(){function t(){}return t.NORMALDAMAGE=1,t.CRIT=2,t.DODGE=3,t.TREATMENT=4,t.VERTIGO=5,t.FREEZE=6,t.ATTACKADD=7,t.ATTACKREDUCE=8,t.EXPERIENCE=9,t.NORMALDAMAGEUP=11,t.CRITUP=12,t.MYNORMALDAMAGE=13,t.MYNORMALDAMAGEUP=14,t.MISS=15,t}();t.TextJumpType=e;var i=function(){return function(){}}();t.TextJumpUiVo=i;var a=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return __extends(a,i),a.prototype.makeData=function(){if(this._data){var t=this._data;switch(this.dtime=t.endtime,this.pos=t.pos,t.type){case e.EXPERIENCE:this._width=this.drawTxtBydigitalAndtext(t)}}},a.prototype.drawTxtBydigitalAndtext=function(i){var a,n=this.parent.uiAtlas.getRec(this.textureStr),s=t.UIManager.getInstance().getContext2D(n.pixelWitdh,n.pixelHeight,!1),r=i.type;i.type==e.EXPERIENCE&&(a=t.ArtFont.num54);var h=t.ArtFont.getInstance().getAirFontWidth(s,String(this._data.str),a);return h+=50,t.UiDraw.cxtDrawImg(s,"TYPE"+r,new t.Rectangle(n.pixelWitdh-h,n.pixelHeight-25,50,25),t.UIData.publicUi),t.ArtFont.getInstance().writeFontToCtxLeft(s,String(this._data.str),a,n.pixelWitdh-h+50+2,n.pixelHeight-25),t.TextureManager.getInstance().updateTexture(this.parent.uiAtlas.texture,n.pixelX,n.pixelY,s),h},a.prototype.update=function(){if(this._data){if(this.time=t.TimeUtil.getTimer(),this.time>=this.dtime)return this.ui&&this.ui.parent&&this.ui.parent.removeChild(this.ui),void(this._data=null);this._data;var e=this.changerules(this.time);this.ui.width=256*e[2],this.ui.height=50*e[3],this.ui.y=e[1]-this.ui.height,this.ui.x=e[0]-this.ui.width/2+25,this.ui.alpha=e[4]}},a.prototype.changerules=function(e){var i=new Array,a=this._data;e=(e-a.starttime)/1e3*60;var n=0,s=0,r=0,h=0,o=0;if(a.type==t.TextJumpType.EXPERIENCE){var u=new t.Vector2D;e<0?u.x=-9999:(u.x=300/t.UIData.Scale,u.y=t.Scene_data.stageHeight/t.UIData.Scale-50),s=u.y-=15,s-=.5*e,e<40?(n=u.x,r=1.8,h=1.8,o=1):e<60&&(n=u.x,r=1.8,h=1.8,o=1-(e-39)/20)}return i.push(n),i.push(s),i.push(r),i.push(h),i.push(o),i.push(u.x),i.push(u.y),this._lastchange=i,i},a}(t.Disp2DBaseText);t.ExpTextJumpUiDrawAndRefreash=a;var n=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return __extends(a,i),a.prototype.makeData=function(){if(this._data){var i=this._data;switch(this.dtime=i.endtime,this.pos=i.pos,i.type){case e.NORMALDAMAGE:case e.TREATMENT:t.ArtFont.getInstance().writeFontToSkinName(this.parent.uiAtlas,this.textureStr,String(i.str),"NUM"+(i.type+50),t.TextAlign.RIGHT);break;case e.MYNORMALDAMAGEUP:case e.MYNORMALDAMAGE:t.ArtFont.getInstance().writeFontToSkinName(this.parent.uiAtlas,this.textureStr,String(i.str),t.ArtFont.num53,t.TextAlign.RIGHT);break;case e.NORMALDAMAGEUP:t.ArtFont.getInstance().writeFontToSkinName(this.parent.uiAtlas,this.textureStr,String(i.str),"NUM"+(i.type+40),t.TextAlign.RIGHT);break;case e.DODGE:case e.VERTIGO:case e.FREEZE:case e.MISS:this.drawTxtBytext(i);break;case e.ATTACKADD:case e.ATTACKREDUCE:case e.EXPERIENCE:case e.CRIT:case e.CRITUP:this._width=this.drawTxtBydigitalAndtext(i)}}},a.prototype.drawTxtBytext=function(i){var a=this.parent.uiAtlas.getRec(this.textureStr),n=t.UIManager.getInstance().getContext2D(a.pixelWitdh,a.pixelHeight,!1),s=50;return i.type==e.MISS&&(s=67),t.UiDraw.cxtDrawImg(n,"TYPE"+i.type,new t.Rectangle(a.pixelWitdh-s,a.pixelHeight-25,s,25),t.UIData.publicUi),t.TextureManager.getInstance().updateTexture(this.parent.uiAtlas.texture,a.pixelX,a.pixelY,n),50},a.prototype.drawTxtBydigitalAndtext=function(i){var a,n=this.parent.uiAtlas.getRec(this.textureStr),s=t.UIManager.getInstance().getContext2D(n.pixelWitdh,n.pixelHeight,!1),r=i.type,h=50,o=25;i.type==e.ATTACKREDUCE?(r=e.ATTACKADD,a=t.ArtFont.num53):i.type==e.ATTACKADD?a=t.ArtFont.num54:i.type==e.EXPERIENCE?a=t.ArtFont.num54:i.type==e.CRIT?(a=t.ArtFont.num55,h=78,o=50):i.type==e.CRITUP&&(r-=10,h=78,o=50,a=t.ArtFont.num55);var u=t.ArtFont.getInstance().getAirFontWidth(s,String(this._data.str),a);return u+=h,t.UiDraw.cxtDrawImg(s,"TYPE"+r,new t.Rectangle(n.pixelWitdh-u,n.pixelHeight-o,h,o),t.UIData.publicUi),t.ArtFont.getInstance().writeFontToCtxLeft(s,String(this._data.str),a,n.pixelWitdh-u+h+2,n.pixelHeight-o),t.TextureManager.getInstance().updateTexture(this.parent.uiAtlas.texture,n.pixelX,n.pixelY,s),u},a.prototype.update=function(){if(this._data){if(this.time=t.TimeUtil.getTimer(),this.time>=this.dtime)return this.ui&&this.ui.parent&&this.ui.parent.removeChild(this.ui),void(this._data=null);this._data;var e=this.changerules(this.time);this.ui.width=256*e[2],this.ui.height=50*e[3],this.ui.y=e[1]-this.ui.height,this.ui.x=e[0]-this.ui.width/2+25,this.ui.alpha=e[4]}},a.prototype.changerules=function(e){var i=this._data;e=(e-i.starttime)/1e3*60;var a=new Array,n=this.Vector3DToVector2D(new t.Vector3D(this.pos.x,this.pos.y,this.pos.z));e<0&&(n.x=-9999),i.type==t.TextJumpType.EXPERIENCE&&(n.x=300/t.UIData.Scale,n.y=t.Scene_data.stageHeight/t.UIData.Scale-50);var s,r,h,o,u;switch(i.type){case t.TextJumpType.NORMALDAMAGE:case t.TextJumpType.MYNORMALDAMAGE:s=n.x,e<4?(r=n.y-4*e,(h=e/4*1.3+.2)>1.5&&(h=1.5),o=h,(u=e/3*.8+.2)>1&&(u=1)):e<8?(r=this._lastchange[1]-2,o=h=this._lastchange[2]-1/6,(u=e/3*.8+.2)>1&&(u=1)):e<15?(r=this._lastchange[1]-2,o=h=this._lastchange[2]+1/6,(u=e/3*.8+.2)>1&&(u=1)):e<30?(r=this._lastchange[1]-2,o=h=this._lastchange[2]-.05,(u=e/3*.8+.2)>1&&(u=1)):e<72&&(r=e<50?this._lastchange[1]-2:this._lastchange[1]+2,s=this._lastchange[0]-1.5,o=h=this._lastchange[2],(u=this._lastchange[4]-.01)<0&&(u=0));break;case t.TextJumpType.CRIT:s=n.x,e<4?(r=n.y-4*e,(h=e/4*1.3+.2)>1.5&&(h=1.5),o=h,(u=e/3*.8+.2)>1&&(u=1)):e<8?(r=this._lastchange[1]-2,o=h=this._lastchange[2]-1/6,(u=e/3*.8+.2)>1&&(u=1)):e<15?(r=this._lastchange[1]-2,o=h=this._lastchange[2]+.25,(u=e/3*.8+.2)>1&&(u=1)):e<30?(r=this._lastchange[1]-2,o=h=this._lastchange[2]-.05,(u=e/3*.8+.2)>1&&(u=1)):e<100&&(r=e<50?this._lastchange[1]-2:this._lastchange[1]+2,s=this._lastchange[0]-1.5,o=h=this._lastchange[2],(u=this._lastchange[4]-.01)<0&&(u=0));break;case t.TextJumpType.NORMALDAMAGEUP:case t.TextJumpType.CRITUP:case t.TextJumpType.MYNORMALDAMAGEUP:s=n.x,e<4?(r=n.y-4*e,(h=e/4*1.5+.2)>1.7&&(h=1.7),o=h,(u=e/3*.3+.2)>.5&&(u=.5)):e<8?(r=this._lastchange[1]-2,o=h=this._lastchange[2]-.25,(u=e/3*.3+.2)>.5&&(u=.5)):e<15?(r=this._lastchange[1]-2,o=h=this._lastchange[2]+.25,(u=e/3*.3+.2)>.5&&(u=.5)):e<30&&(r=this._lastchange[1]-2,o=h=this._lastchange[2]-1/15,(u=this._lastchange[4]-1/80)<0&&(u=0));break;case t.TextJumpType.TREATMENT:s=n.x,r=n.y-1.5*e,e<12?(o=h=Math.ceil(e)/12*.8+.2,u=Math.ceil(e)/12*.8+.2):e<60&&(o=h=1,u=1-(e-11)/48);break;case t.TextJumpType.EXPERIENCE:r=n.y-=15,r-=.5*e,e<40?(s=n.x,h=1.3,o=1.3,u=1):e<60&&(s=n.x,h=1.3,o=1.3,u=1-(e-39)/20);break;case t.TextJumpType.ATTACKADD:case t.TextJumpType.ATTACKREDUCE:s=n.x+=110,r=n.y-1.8*e,e<12?(o=h=Math.ceil(e)/12*1.3+.1,u=Math.ceil(e)/12*.8+.2):e<24?(o=h=1.4-(e-11)/12*.4,u=1):e<60&&(o=h=1,u=1-(e-23)/36);break;case t.TextJumpType.DODGE:case t.TextJumpType.MISS:case t.TextJumpType.VERTIGO:case t.TextJumpType.FREEZE:s=n.x-=50,e<12?(r=n.y-3*e,o=h=1,u=Math.ceil(e)/12):e<36?(r=n.y-33,o=h=1,u=1):e<72&&(r=n.y-33-1.5*(e-36),o=h=1,u=1-(e-35)/36)}return a.push(s),a.push(r),a.push(h),a.push(o),a.push(u),a.push(n.x),a.push(n.y),this._lastchange=a,a},a}(t.Disp2DBaseText);t.TextJumpUiDrawAndRefreash=n;var s=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.tempMatrix=new t.Matrix3D,i}return __extends(i,e),i.prototype.makeData=function(){this._data&&(this.charNameMeshVo=this.data,this.lastKey!=this.charNameMeshVo.name&&(this.ui.width=179.2,this.ui.height=22*.7,this.lastKey=this.charNameMeshVo.name,t.LabelTextFont.writeSingleLabel(this.parent.uiAtlas,this.textureStr,this.charNameMeshVo.name,20,t.TextAlign.CENTER,"#ffffff","#27262e")),this.charNameMeshVo.needDraw=!1)},i.prototype.update=function(){if(this.charNameMeshVo){if(this.charNameMeshVo.needDraw&&this.makeData(),this.charNameMeshVo.pos)if(this.charNameMeshVo.visible){if(this.needUpData(this.charNameMeshVo.pos)||this.charNameMeshVo.visibleChange){var e=t.Scene_data.cam3D.cameraMatrix.clone(this.tempMatrix);e.append(t.Scene_data.viewMatrx3D);var i=e.transformVector(this.charNameMeshVo.pos);this.ui.x=(i.x/i.w+1)*(t.Scene_data.stageWidth/2)/t.UIData.Scale-this.ui.width/2,this.ui.y=(-i.y/i.w+1)*(t.Scene_data.stageHeight/2)/t.UIData.Scale-this.ui.height/2,this.oldPos.x=this.charNameMeshVo.pos.x,this.oldPos.y=this.charNameMeshVo.pos.y,this.charNameMeshVo.visibleChange=!1}}else this.ui.x=1e4;this.charNameMeshVo.clear&&(this.ui.parent.removeChild(this.ui),this._data=null)}},i}(t.Disp2DBaseText);t.CharNameUiVo=s;var r=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.tempMatrix=new t.Matrix3D,i}return __extends(i,e),i.prototype.makeData=function(){var e=this;this._data&&(this._charTitleMeshVo=this.data,t.LoadManager.getInstance().load(t.Scene_data.fileRoot+getUItittleUrl(String(this._charTitleMeshVo.num)),t.LoadManager.IMG_TYPE,function(i){var a=e.parent.uiAtlas.getRec(e.textureStr);e.parent.uiAtlas.ctx=t.UIManager.getInstance().getContext2D(a.pixelWitdh,a.pixelHeight,!1);var n=Math.min(a.pixelWitdh/i.width,a.pixelHeight/i.height);n=Math.min(n,1);var s=i.width*n,r=i.height*n;e.parent.uiAtlas.ctx.drawImage(i,(a.pixelWitdh-s)/2,(a.pixelHeight-r)/2,s,r),t.TextureManager.getInstance().updateTexture(e.parent.uiAtlas.texture,a.pixelX,a.pixelY,e.parent.uiAtlas.ctx)}))},i.prototype.update=function(){if(this._charTitleMeshVo){if(this._charTitleMeshVo.needDraw&&(this.makeData(),this._charTitleMeshVo.needDraw=!1),this._charTitleMeshVo.pos)if(this._charTitleMeshVo.visible){if(this.needUpData(this._charTitleMeshVo.pos)){var e=t.Scene_data.cam3D.cameraMatrix.clone(this.tempMatrix);e.append(t.Scene_data.viewMatrx3D);var i=e.transformVector(this._charTitleMeshVo.pos);this.ui.x=(i.x/i.w+1)*(t.Scene_data.stageWidth/2)/t.UIData.Scale-this.ui.width/2,this.ui.y=(-i.y/i.w+1)*(t.Scene_data.stageHeight/2)/t.UIData.Scale-this.ui.height/2,this.oldPos.x=this._charTitleMeshVo.pos.x,this.oldPos.y=this._charTitleMeshVo.pos.y}}else this.ui.x=1e4;this._charTitleMeshVo.clear&&(this.ui.parent.removeChild(this.ui),this._data=null)}},i}(t.Disp2DBaseText);t.CharTitleUiVo=r;var h=function(){function t(){this._visible=!0,this.visibleChange=!1,this.clear=!1}return Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.visibleChange=!0},enumerable:!0,configurable:!0}),t}();t.baseMeshVo=h}(Pan3d||(Pan3d={})),function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.binLocation=function(t){t.bindAttribLocation(this.program,0,"v3Pos"),t.bindAttribLocation(this.program,1,"v2uv")},e.prototype.getVertexShaderString=function(){return"attribute vec3 v3Pos;attribute vec3 v2uv;uniform vec4 ui[30];uniform vec4 lifenum[30];varying vec2 v_texCoord;\nvarying vec4 v_lifenum;\nvoid main(void){ v_lifenum = lifenum[int(v2uv.z)]; v_texCoord = vec2(v2uv.x , v2uv.y ); vec4  data = ui[int(v2uv.z)];   vec3 pos = vec3(0.0,0.0,0.0);   pos.xy = v3Pos.xy *data.zw * 2.0;   pos.x += data.x * 2.0 - 1.0;   pos.y += -data.y * 2.0 + 1.0;   vec4 vt0= vec4(pos, 1.0);   gl_Position = vt0;}"},e.prototype.getFragmentShaderString=function(){return"precision mediump float;\nuniform sampler2D s_texture;\nvarying vec2 v_texCoord;\nvarying vec4 v_lifenum;\nvoid main(void)\n{\nvec2  v_uv = v_texCoord;if(v_texCoord.x<v_lifenum.x){;\nv_uv.y = v_uv.y+v_lifenum.y;};\nvec4 infoUv = texture2D(s_texture, v_uv.xy);\ninfoUv.xyz *= infoUv.w;\ngl_FragColor = infoUv;\n}"},e.BloodUIShader="BloodUIShader",e}(t.Shader3D);t.BloodUIShader=e;var i=function(t){function e(){var e=t.call(this)||this;return e.lifeNum=100,e.colortype=0,e}return __extends(e,t),e.prototype.pushVaData=function(t,e,i){return t.vertices.push(0,0,0,1,0,0,1,-1,0,0,-1,0),t.uvs.push(0,0,e,1,0,e,1,.25,e,0,.25,e),t.indexs.push(i,1+i,2+i,i,2+i,3+i),i+4},e}(t.UICompenent);t.BloodUICompenent=i;var a=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.tempMatrix=new t.Matrix3D,i}return __extends(i,e),i.prototype.makeData=function(){this._data&&(this.bloodLineMeshVo=this.data)},i.prototype.update=function(){if(this.bloodLineMeshVo){if(this.bloodLineMeshVo.pos)if(this.bloodLineMeshVo.visible){if(this.needUpData(this.bloodLineMeshVo.pos)||this.bloodLineMeshVo.visibleChange){var e=t.Scene_data.cam3D.cameraMatrix.clone(this.tempMatrix);e.append(t.Scene_data.viewMatrx3D);var i=e.transformVector(new t.Vector3D(this.bloodLineMeshVo.pos.x,this.bloodLineMeshVo.pos.y,this.bloodLineMeshVo.pos.z));this.ui.x=(i.x/i.w+1)*(t.Scene_data.stageWidth/2)/t.UIData.Scale-this.ui.width/2,this.ui.y=(-i.y/i.w+1)*(t.Scene_data.stageHeight/2)/t.UIData.Scale-this.ui.height/2,this.bloodLineMeshVo.visibleChange=!1}this.ui.lifeNum=this.bloodLineMeshVo.num,this.ui.colortype=this.bloodLineMeshVo.colortype}else this.ui.x=1e4;this.bloodLineMeshVo.clear&&(this.ui.parent.removeChild(this.ui),this._data=null)}},i}(t.Disp2DBaseText);t.BloodDisp2DBaseText=a;var n=function(a){function n(){var t=a.call(this)||this;return t.nextTime=0,t}return __extends(n,a),n.prototype.initData=function(){this._uiList=new Array,this.objData=new t.ObjData,t.ProgrmaManager.getInstance().registe(e.BloodUIShader,new e),this.shader=t.ProgrmaManager.getInstance().getProgram(e.BloodUIShader),this.program=this.shader.program,this.uiProLocation=t.Scene_data.context3D.getLocation(this.program,"ui"),this.ui2ProLocation=t.Scene_data.context3D.getLocation(this.program,"lifenum")},n.prototype.update=function(){if(this.visible&&0!=this._uiList.length){if(t.Scene_data.context3D.setBlendParticleFactors(this.blenderMode),t.Scene_data.context3D.setProgram(this.program),this.nextTime<t.TimeUtil.getTimer()||this.renderData2.length!=4*this._uiList.length){this.renderData2.length!=4*this._uiList.length&&(this.renderData2=new Float32Array(4*this._uiList.length));for(n=0;n<this._uiList.length;n++){var e=this._uiList[n],i=e.lifeNum/100,a=8*(e.colortype+1)/32;this.renderData2[4*n+0]=i,this.renderData2[4*n+1]=a}this.nextTime=t.TimeUtil.getTimer()+300}if(t.Scene_data.context3D.setVc4fvLocation(this.uiProLocation,this.renderData),t.Scene_data.context3D.setVc4fvLocation(this.ui2ProLocation,this.renderData2),t.Scene_data.context3D.setVa(0,3,this.objData.vertexBuffer),t.Scene_data.context3D.setVa(1,3,this.objData.uvBuffer),this.uiAtlas&&t.Scene_data.context3D.setRenderTexture(this.shader,"s_texture",this.uiAtlas.texture,0),t.Scene_data.context3D.drawCall(this.objData.indexBuffer,this.objData.treNum),this.modelRenderList)for(var n=0;n<this.modelRenderList.length;n++)this.modelRenderList[n].update()}},n.prototype.creatBaseComponent=function(e){var a=new i;return a.tr.setRec(new t.UIRectangle(0,0,1,1)),a.width=64,a.height=8,a.uiRender=this,a.lifeNum=100,a},n.prototype.makeRenderDataVc=function(t){if((!this.renderData||this.renderData&&this.renderData.length!=4*this._uiList.length)&&(this.renderData=new Float32Array(4*this._uiList.length)),-1==t)for(var e=0;this._uiList&&e<this._uiList.length;e++)this._uiList[e].vcId=e,this.renderData[4*e+0]=this._uiList[e].renderData[0],this.renderData[4*e+1]=this._uiList[e].renderData[1],this.renderData[4*e+2]=this._uiList[e].renderData[2],this.renderData[4*e+3]=this._uiList[e].renderData[3];else t<this._uiList.length&&(this.renderData[4*t+0]=this._uiList[t].renderData[0],this.renderData[4*t+1]=this._uiList[t].renderData[1],this.renderData[4*t+2]=this._uiList[t].renderData[2],this.renderData[4*t+3]=this._uiList[t].renderData[3])},n}(t.UIRenderComponent);t.BloodUIRenderComponent=n;var s=function(e){function i(){var i=e.call(this)||this;return i.width=t.UIData.designWidth,i.height=t.UIData.designHeight,i._baseRender=new n,i.addRender(i._baseRender),i._baseRender.uiAtlas=new t.UIAtlas,i._baseRender.uiAtlas.configData=new Array,i._uiItem=new Array,i.loadBloodTexture(),i}return __extends(i,e),i.prototype.loadBloodTexture=function(){var e=this;t.TextureManager.getInstance().getTexture(t.Scene_data.fileRoot+"ui/load/blood.png",function(t){e._baseRender.uiAtlas.textureRes=t})},i.prototype.update=function(t){if(this._baseRender.uiAtlas.textureRes)for(var e=0;e<this._uiItem.length;e++)this._uiItem[e].data&&this._uiItem[e].update()},i.prototype.removeChild=function(t){for(var i=0;i<this._uiItem.length;i++)if(this._uiItem[i].ui==t){this._uiItem.splice(i,1);break}e.prototype.removeChild.call(this,t)},i.prototype.clearOneTemp=function(){for(;this._uiItem.length>25;)this.removeChild(this._uiItem[0].ui)},i.prototype.showTemp=function(t){if(!(this._uiItem.length>=40)){var e=new a;e.parent=this._baseRender,e.ui=this._baseRender.creatBaseComponent("test"),e.data=t,this.addChild(e.ui),this._uiItem.push(e)}},i}(t.UIConatiner);t.BloodLineUIConatiner=s}(Pan3d||(Pan3d={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.destory=function(){this.pos=null,this._num=null,this.clear=!0},Object.defineProperty(e.prototype,"num",{get:function(){return this._num},set:function(t){this._num=t,this.needDraw=!0},enumerable:!0,configurable:!0}),e}(t.baseMeshVo);t.CharTitleMeshVo=e;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t,this.needDraw=!0},enumerable:!0,configurable:!0}),e.prototype.destory=function(){this.pos=null,this._name=null,this.needDraw=null,this.clear=!0},e}(t.baseMeshVo);t.CharNameMeshVo=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.destory=function(){this.pos=null,this.num=null,this.colortype=null,this.clear=!0},e}(t.baseMeshVo);t.BloodLineMeshVo=a;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.destory=function(){this.pos=null,this.clear=!0},e}(t.baseMeshVo);t.JumpTextMeshVo=n;var s=function(t){function e(e,i,a){return t.call(this,e,i,a)||this}return __extends(e,t),e}(t.Dis2DUIContianerPanel);t.JumpTxtContianerPanel=s;var r=function(){function n(){this.uiContianerItem=new Array,this._charTitleContianerPanel=new t.Dis2DUIContianerPanel(t.CharTitleUiVo,new t.Rectangle(0,0,131,69),10),this._charNameContianerPanel=new t.Dis2DUIContianerPanel(t.CharNameUiVo,new t.Rectangle(0,0,256,24),50),this._jumpTxtContianerPanel=new t.AlphaUiContianer(t.TextJumpUiDrawAndRefreash,new t.Rectangle(0,0,256,50),10),this._expjumpTxtContianerPanel=new t.AlphaUiContianer(t.ExpTextJumpUiDrawAndRefreash,new t.Rectangle(0,0,512,100),5),this._bloodLineUIConatiner=new t.BloodLineUIConatiner,this.uiContianerItem.push(this._charTitleContianerPanel),this.uiContianerItem.push(this._charNameContianerPanel),this.uiContianerItem.push(this._jumpTxtContianerPanel),this.uiContianerItem.push(this._expjumpTxtContianerPanel),this.uiContianerItem.push(this._bloodLineUIConatiner)}return n.getInstance=function(){return this._instance||(this._instance=new n),this._instance},n.prototype.clearOneTemp=function(){for(var t=0;t<this.uiContianerItem.length;t++)this.uiContianerItem[t].clearOneTemp()},n.prototype.getCharTitleMeshVo=function(i){void 0===i&&(i=0);var a=new e;return a.num=i,a.pos=new t.Vector3D(0,50,0),this._charTitleContianerPanel.showTemp(a),a},n.prototype.getCharNameMeshVo=function(e){void 0===e&&(e="测试名");var a=new i;return a.name=e,a.pos=new t.Vector3D(0,50,0),this._charNameContianerPanel.showTemp(a),a},n.prototype.getBloodLineMeshVo=function(){var e=new a;return e.num=100,e.colortype=0,e.pos=new t.Vector3D(0,50,0),this._bloodLineUIConatiner.showTemp(e),e},n.prototype.setJumpNum=function(t){this._jumpTxtContianerPanel.showTemp(t)},n.prototype.setExpJumpNum=function(t){this._expjumpTxtContianerPanel.showTemp(t)},n.prototype.update=function(){for(var t=0;t<this.uiContianerItem.length;t++){this.uiContianerItem[t].update(0);for(var e=0;e<this._bloodLineUIConatiner.renderList.length;e++)this.uiContianerItem[t].renderList[e].update()}},n.prototype.resize=function(){this._jumpTxtContianerPanel.resize();for(var e=0;e<this.uiContianerItem.length;e++)this.uiContianerItem[e].resize();t.Scene_data.cam3D.needChange=!0},n}();t.BloodManager=r}(Pan3d||(Pan3d={}));